# Storyweave Web（故事讲述网页 APP）

一个**即开即用**的前端单页应用，支持通过左划/点击翻页来播放由**文字、图片、视频**组成的故事；支持**PC / 手机画布比例切换**、**自动播放与间隔设置**、**创作者编辑页面**，并对图片和视频进行懒加载。

> 本项目为纯前端实现，无需后端，直接打开 `index.html` 即可体验。

## 使用方式

- **直接打开**
  - 用浏览器打开项目根目录下的 `index.html`，即可本地预览（推荐 Chrome / Edge）。

- **本地起一个静态服务器（可选）**
  - 需要本机安装 Node.js 与 npm。
  - 在项目根目录执行：
    - `npm install`（本项目无额外依赖，此步可省略）
    - `npm run start`
  - 根据终端提示访问对应地址（通常是 `http://localhost:3000` 或 `http://localhost:5000`）。

## 功能说明

- **左右滑动 / 点击翻页**
  - 在 PC 上：点击左右两侧箭头，或使用键盘方向键 `←` / `→`。
  - 在手机 / 触屏设备上：在故事画面区域**左划/右划**切换页面。

- **页面内容类型**
  - 文字：支持多段文本，自动换行、滚动。
  - 图片：输入图片 URL，自动按画布比例缩放，采用懒加载。
  - 视频：输入视频 URL（MP4 为主），支持播放控制，懒加载 `metadata`。

- **画布比例切换**
  - 顶部可选择：
    - `PC 比例`：16:9 横屏。
    - `手机比例`：9:16 竖屏。

- **自动播放与间隔**
  - 可勾选“自动播放”，设置“每 N 秒翻页”。
  - 每个页面可以单独设置「本页停留时间（秒）」；若未设置，则使用全局间隔。
  - 自动播放时，顶部会显示一个进度条样式的**页面指示**动画。

- **故事编辑器（右侧面板）**
  - 选择页面类型（文字 / 图片 / 视频）。
  - 根据类型填写文字内容或图片/视频 URL。
  - 可设置当前页的停留时间（秒，选填）。
  - 操作：
    - `添加页面`：在故事末尾追加一页，并跳转到该页。
    - `替换当前页`：用当前表单内容覆盖当前页面。
    - `删除当前页`：删除当前页面，并跳到相邻页面。
  - 下方“页面列表”可快速查看所有页面，并点击跳转到指定页面。

## 懒加载策略

- **图片**
  - 使用 `loading="lazy"`，并只在当前页面渲染对应 `<img>` 元素。
  - 同时在 JS 中预加载下一页图片，以获得更顺畅的体验。

- **视频**
  - 仅在当前页面渲染 `<video>` 元素，使用 `preload="metadata"`。
  - 下一页的视频仅通过创建临时元素预加载元数据，不会自动开始播放。

## 自定义与扩展建议

- 可将故事数据结构保存到本地存储或导出为 JSON，方便分享。
- 可增加“背景音乐”“全屏播放”等高级功能。
- 可增加“导入故事配置 JSON”功能，让创作者用结构化数据快速生成多篇故事。

